<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data sources | CO2 Emissions: Contributors and Causes</title>
  <meta name="description" content="Chapter 2 Data sources | CO2 Emissions: Contributors and Causes" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data sources | CO2 Emissions: Contributors and Causes" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data sources | CO2 Emissions: Contributors and Causes" />
  
  
  

<meta name="author" content="Karunakar Gadireddy, Aiqi Zhou" />


<meta name="date" content="2021-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CO2 Emissions</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#the-following-plot-shows-the-top-20-countries-with-the-highest-gdp-and-their-co2-emission-over-the-years-in-a-moving-plot"><i class="fa fa-check"></i><b>5.1</b> The following plot shows the top 20 countries with the highest GDP and their CO2 emission over the years in a moving plot</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#the-following-graphs-shows-some-distribution-of-possible-producers-of-co2-over-different-years-19751985199520052014"><i class="fa fa-check"></i><b>5.2</b> The following graphs shows some distribution of possible producers of CO2 over different years 1975,1985,1995,2005,2014</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#how-electricity-is-produced"><i class="fa fa-check"></i><b>5.3</b> How electricity is produced</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CO2 Emissions: Contributors and Causes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data sources</h1>
<p>The data in this project is directly queried from Quandl (<a href="https://www.quandl.com/" class="uri">https://www.quandl.com/</a>). Quandl is a source of economic, financial, alternative datasets.
The carbon dioxide emissions, manufacturing and energy use data of various countries since approximately 1960 are from the World Bank. The data can be directly retrieved in R using the Quandl (API) library.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-sources.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Quandl)</span>
<span id="cb1-2"><a href="data-sources.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="data-sources.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb1-4"><a href="data-sources.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="data-sources.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-6"><a href="data-sources.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb1-7"><a href="data-sources.html#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="data-sources.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">Quandl.api_key</span>(<span class="st">&#39;dyhrKPXojNdZxDeYganv&#39;</span>)</span></code></pre></div>
<p>The following function takes the Quandl code of the features (series id or the code for the type of data we want to use) and the country code to quickly get the interested data into R dataframe.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-sources.html#cb2-1" aria-hidden="true" tabindex="-1"></a>get_data_from_api <span class="ot">&lt;-</span> <span class="cf">function</span>(url,cc)</span>
<span id="cb2-2"><a href="data-sources.html#cb2-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-3"><a href="data-sources.html#cb2-3" aria-hidden="true" tabindex="-1"></a>  cc_url <span class="ot">=</span><span class="fu">paste</span>(url,cc,<span class="at">sep=</span><span class="st">&quot;_&quot;</span>)</span>
<span id="cb2-4"><a href="data-sources.html#cb2-4" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">=</span> <span class="fu">Quandl.datatable</span>(<span class="st">&#39;WB/DATA&#39;</span>, <span class="at">series_id=</span>url, <span class="at">country_code=</span>cc)</span>
<span id="cb2-5"><a href="data-sources.html#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (r)</span>
<span id="cb2-6"><a href="data-sources.html#cb2-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The different columns in the table retured from Quandl API are as follows</p>
<ol style="list-style-type: decimal">
<li>series_id: The series id (Quandl code) of the data that was requested</li>
<li>country_code: The ISO code for the country</li>
<li>country_name: The name of the country</li>
<li>year: The year in which data was collected</li>
<li>value: The value of the requested data.</li>
</ol>
<p>Example: Carbon emissions (in Kilo Ton (kt)) from China</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-sources.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_data_from_api</span>(<span class="st">&quot;EN.ATM.CO2E.KT&quot;</span>,<span class="st">&quot;CHN&quot;</span>)</span></code></pre></div>
<pre><code>##         series_id country_code country_name year      value
## 1  EN.ATM.CO2E.KT          CHN        China 2016  9893038.0
## 2  EN.ATM.CO2E.KT          CHN        China 2015 10145004.9
## 3  EN.ATM.CO2E.KT          CHN        China 2014 10291926.9
## 4  EN.ATM.CO2E.KT          CHN        China 2013 10258007.1
## 5  EN.ATM.CO2E.KT          CHN        China 2012 10028573.9
## 6  EN.ATM.CO2E.KT          CHN        China 2011  9733538.1
## 7  EN.ATM.CO2E.KT          CHN        China 2010  8776040.4
## 8  EN.ATM.CO2E.KT          CHN        China 2009  7557789.7
## 9  EN.ATM.CO2E.KT          CHN        China 2008  7553070.2
## 10 EN.ATM.CO2E.KT          CHN        China 2007  6697654.5
## 11 EN.ATM.CO2E.KT          CHN        China 2006  6529291.5
## 12 EN.ATM.CO2E.KT          CHN        China 2005  5896957.7
## 13 EN.ATM.CO2E.KT          CHN        China 2004  5233538.7
## 14 EN.ATM.CO2E.KT          CHN        China 2003  4540417.1
## 15 EN.ATM.CO2E.KT          CHN        China 2002  3850269.3
## 16 EN.ATM.CO2E.KT          CHN        China 2001  3487566.4
## 17 EN.ATM.CO2E.KT          CHN        China 2000  3405179.9
## 18 EN.ATM.CO2E.KT          CHN        China 1999  3318055.6
## 19 EN.ATM.CO2E.KT          CHN        China 1998  3324344.5
## 20 EN.ATM.CO2E.KT          CHN        China 1997  3469510.0
## 21 EN.ATM.CO2E.KT          CHN        China 1996  3463089.1
## 22 EN.ATM.CO2E.KT          CHN        China 1995  3320285.1
## 23 EN.ATM.CO2E.KT          CHN        China 1994  3058241.3
## 24 EN.ATM.CO2E.KT          CHN        China 1993  2878694.0
## 25 EN.ATM.CO2E.KT          CHN        China 1992  2686532.2
## 26 EN.ATM.CO2E.KT          CHN        China 1991  2564699.8
## 27 EN.ATM.CO2E.KT          CHN        China 1990  2442918.7
## 28 EN.ATM.CO2E.KT          CHN        China 1989  2408540.6
## 29 EN.ATM.CO2E.KT          CHN        China 1988  2369501.7
## 30 EN.ATM.CO2E.KT          CHN        China 1987  2209708.5
## 31 EN.ATM.CO2E.KT          CHN        China 1986  2068969.1
## 32 EN.ATM.CO2E.KT          CHN        China 1985  1966553.4
## 33 EN.ATM.CO2E.KT          CHN        China 1984  1814908.3
## 34 EN.ATM.CO2E.KT          CHN        China 1983  1667029.2
## 35 EN.ATM.CO2E.KT          CHN        China 1982  1580260.6
## 36 EN.ATM.CO2E.KT          CHN        China 1981  1451501.3
## 37 EN.ATM.CO2E.KT          CHN        China 1980  1467192.4
## 38 EN.ATM.CO2E.KT          CHN        China 1979  1494859.9
## 39 EN.ATM.CO2E.KT          CHN        China 1978  1462168.6
## 40 EN.ATM.CO2E.KT          CHN        China 1977  1310310.8
## 41 EN.ATM.CO2E.KT          CHN        China 1976  1196193.7
## 42 EN.ATM.CO2E.KT          CHN        China 1975  1145607.5
## 43 EN.ATM.CO2E.KT          CHN        China 1974   988014.5
## 44 EN.ATM.CO2E.KT          CHN        China 1973   968542.7
## 45 EN.ATM.CO2E.KT          CHN        China 1972   931575.7
## 46 EN.ATM.CO2E.KT          CHN        China 1971   876633.0
## 47 EN.ATM.CO2E.KT          CHN        China 1970   771617.5
## 48 EN.ATM.CO2E.KT          CHN        China 1969   577237.1
## 49 EN.ATM.CO2E.KT          CHN        China 1968   468928.6
## 50 EN.ATM.CO2E.KT          CHN        China 1967   433234.0
## 51 EN.ATM.CO2E.KT          CHN        China 1966   522789.5
## 52 EN.ATM.CO2E.KT          CHN        China 1965   475972.9
## 53 EN.ATM.CO2E.KT          CHN        China 1964   436923.0
## 54 EN.ATM.CO2E.KT          CHN        China 1963   436695.7
## 55 EN.ATM.CO2E.KT          CHN        China 1962   440359.0
## 56 EN.ATM.CO2E.KT          CHN        China 1961   552066.8
## 57 EN.ATM.CO2E.KT          CHN        China 1960   780726.3</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aiqizhou33/CO2_Emissions_EDAV/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/aiqizhou33/CO2_Emissions_EDAV/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
